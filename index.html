<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amy's Workout</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<script src="https://cdn.tailwindcss.com"></script>
<script type="module">
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getAuth, signInAnonymously, onAuthStateChanged } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
import { getDatabase, ref, set, get } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

const firebaseConfig = {
  apiKey: "AIzaSyDu-ypnZu4ojzJAR8N1wpWkvhXqmxyNyUY",
  authDomain: "amy-workout-app.firebaseapp.com",
  databaseURL: "https://amy-workout-app-default-rtdb.firebaseio.com",
  projectId: "amy-workout-app",
  storageBucket: "amy-workout-app.firebasestorage.app",
  messagingSenderId: "127656923512",
  appId: "1:127656923512:web:e3143e94bef691d930788d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getDatabase(app);
let uid = null;

signInAnonymously(auth);
onAuthStateChanged(auth, async (u) => {
  if (u) {
    uid = u.uid;
    try {
      const snap = await get(ref(db, 'users/' + uid));
      if (snap.exists()) window.loadAppData(snap.val());
    } catch(e){}
  }
});

window.saveAppData = async (data) => {
  if (uid) {
    try { await set(ref(db, 'users/' + uid), data); } catch(e){}
  }
};
</script>
</head>
<body class="bg-gradient-to-br from-pink-100 to-purple-100 min-h-screen">
<div id="app"></div>
<script>
const PRG = {
1:{n:"Foundation",d:{
1:{n:"Upper Push",ex:[
{n:"Incline Barbell/DB Press",s:3,r:"8-12",a:"Smith Machine, Incline DB, Machine Press"},
{n:"Barbell/DB Shoulder Press",s:3,r:"10-12",a:"Smith Machine, DB Press, Machine Press"},
{n:"Assisted Dips/Bench Dips",s:3,r:"5-8",a:"Machine Dips, Band-Assisted, Push-ups"},
{n:"DB Lateral Raises",s:3,r:"12-15",a:"Cable Laterals, Machine Laterals"},
{n:"Tricep Pushdowns",s:3,r:"10-12",a:"Overhead Extensions, Close-Grip Press"},
{n:"Push-ups",s:3,r:"max",a:"Knee Push-ups, Incline Push-ups"}
]},
2:{n:"Lower Body & Core",ex:[
{n:"Barbell Squats",s:3,r:"10-12",a:"Smith Machine, Goblet Squats, Leg Press"},
{n:"Barbell RDLs",s:3,r:"10-12",a:"DB RDLs, Machine RDLs, Stiff-Leg DL"},
{n:"Barbell/DB Lunges",s:3,r:"8-10",a:"Smith Lunges, Walking Lunges, Split Squats"},
{n:"Plank",s:3,r:"30-45s",a:"Knee Plank, RKC Plank"},
{n:"Dead Bug",s:3,r:"10",a:"Leg Lowers, Lying Leg Raises"},
{n:"Bicycle Crunches",s:3,r:"15-20",a:"Regular Crunches, Cable Crunches"}
]},
3:{n:"Cardio & Recovery",t:"c"},
4:{n:"Upper Body Pull",ex:[
{n:"Barbell Rows",s:4,r:"10-12",a:"DB Rows, Smith Rows, Cable Rows, Machine Rows"},
{n:"Negative Pull-ups",s:3,r:"3-5",a:"Assisted Pull-ups, Band Pull-ups, Lat Pulldowns"},
{n:"Lat Pulldowns",s:3,r:"8-10",a:"Wide Grip, Close Grip, Neutral Grip"},
{n:"Barbell/DB Curls",s:3,r:"10-12",a:"EZ-Bar Curls, Cable Curls, Machine Curls"},
{n:"Cable Face Pulls",s:3,r:"15",a:"Band Pulls, DB Reverse Flyes"},
{n:"Hammer Curls",s:3,r:"10-12",a:"Cable Rope Curls, Cross-Body Curls"}
]},
5:{n:"Cardio",t:"c"},
6:{n:"REST",t:"r"},
7:{n:"REST",t:"r"}
}},
2:{n:"Strength & Hypertrophy",d:{
1:{n:"Push",ex:[
{n:"Barbell Bench Press",s:4,r:"6-10",a:"DB Bench, Smith Machine, Machine Press"},
{n:"Barbell/DB Shoulder Press",s:4,r:"8-10",a:"Smith Press, Machine Press"},
{n:"Incline Barbell/DB Press",s:3,r:"8-12",a:"Smith Incline, Machine Incline"},
{n:"Dips",s:4,r:"6-10",a:"Assisted Dips, Bench Dips, Machine Dips"},
{n:"DB Lateral Raises",s:4,r:"12-15",a:"Cable Laterals, Machine Laterals"},
{n:"Overhead Tricep Extension",s:3,r:"10-12",a:"Close-Grip Bench, Cable Extensions"},
{n:"Push-ups",s:3,r:"max",a:"Decline Push-ups, Weighted Push-ups"}
]},
2:{n:"Pull",ex:[
{n:"Negative Pull-ups",s:4,r:"4-6",a:"Assisted Pull-ups (lighter band)"},
{n:"Barbell Rows",s:4,r:"8-10",a:"DB Rows, Smith, T-Bar, Machine"},
{n:"Single Arm DB Row",s:3,r:"10",a:"Cable Row, Machine Row"},
{n:"DB Pullovers",s:3,r:"10-12",a:"Cable Pullovers, Machine"},
{n:"Barbell Curls",s:4,r:"8-12",a:"EZ-Bar, DB, Cable, Machine"},
{n:"Hammer Curls",s:3,r:"10-12",a:"Cable Rope, Cross-Body"}
]},
3:{n:"Legs & Core",ex:[
{n:"Barbell Back Squats",s:4,r:"8-10",a:"Smith Machine, Goblet Squats, Leg Press"},
{n:"Barbell RDLs",s:4,r:"8-10",a:"DB RDLs, Machine"},
{n:"Bulgarian Split Squats",s:3,r:"10",a:"Lunges, Step-ups, Smith"},
{n:"Hanging Knee Raises",s:4,r:"10-15",a:"Lying Leg Raises, Machine"},
{n:"Russian Twists with DB",s:3,r:"20",a:"Bicycle Crunches, Cable Twists"},
{n:"Plank",s:3,r:"60s",a:"RKC Plank, Side Planks"}
]},
4:{n:"Cardio & Core",t:"c"},
5:{n:"Full Body Power",ex:[
{n:"DB/Barbell Clean & Press",s:4,r:"6-8",a:"Barbell version, Kettlebell"},
{n:"Barbell Front Squats",s:3,r:"8-10",a:"Goblet Squats, Back Squats"},
{n:"Barbell Bench Press",s:3,r:"8-10",a:"DB Bench, Smith"},
{n:"Pull-up Practice",s:4,r:"max",a:"Assisted, Negatives, Full Pull-ups"},
{n:"Dips",s:3,r:"max",a:"Assisted, Bench Dips"},
{n:"Walking Lunges",s:3,r:"12",a:"Barbell Lunges, DB Lunges"}
]},
6:{n:"Steady Cardio",t:"c"},
7:{n:"REST",t:"r"}
}},
3:{n:"Peak Performance",d:{
1:{n:"Heavy Push",ex:[
{n:"Barbell Bench Press",s:5,r:"5-8",a:"Smith Machine, DB Bench"},
{n:"Barbell Military Press",s:4,r:"6-8",a:"DB Press, Smith, Machine"},
{n:"Weighted Dips",s:4,r:"6-10",a:"Bodyweight Dips, Assisted"},
{n:"Incline DB Flyes",s:3,r:"10-12",a:"Cable Flyes, Machine"},
{n:"Close-Grip Barbell Press",s:3,r:"8-10",a:"DB Press, Smith"},
{n:"Cable Tricep Extensions",s:3,r:"12-15",a:"Rope Extensions, Bar Extensions, Machine"}
]},
2:{n:"Heavy Pull - PULL-UP EMPHASIS",ex:[
{n:"Strict Pull-ups",s:5,r:"max (GOAL: 5+)",a:"Weighted Pull-ups if able"},
{n:"Barbell Rows",s:4,r:"6-8",a:"T-Bar Rows, DB Rows, Smith, Machine"},
{n:"Wide Grip Lat Pulldown",s:4,r:"8-10",a:"Close Grip, Neutral Grip"},
{n:"DB Shrugs",s:4,r:"12-15",a:"Barbell Shrugs, Smith, Machine"},
{n:"Barbell/EZ-Bar Curls",s:4,r:"8-10",a:"DB Curls, Cable, Machine"},
{n:"Concentration Curls",s:3,r:"10-12",a:"Cable Curls, Preacher Curls"}
]},
3:{n:"Legs & Abs - SIX-PACK",ex:[
{n:"Barbell Front Squats",s:4,r:"8-10",a:"Goblet, Back Squats, Smith, Leg Press"},
{n:"Barbell RDLs",s:4,r:"8-10",a:"DB RDLs, Stiff-Leg DL, Machine"},
{n:"Walking Lunges",s:4,r:"12",a:"Split Squats, Smith, Machine"},
{n:"Hanging Leg Raises",s:4,r:"12-15",a:"Knee Raises, Lying Leg Raises"},
{n:"Cable Woodchoppers",s:3,r:"12",a:"Med Ball Chops, DB Chops"},
{n:"Weighted Decline Sit-ups",s:4,r:"15-20",a:"Regular Decline, Crunches"},
{n:"Plank with Shoulder Taps",s:3,r:"20",a:"Regular Plank, Side Plank"}
]},
4:{n:"HIIT & Core",t:"c"},
5:{n:"Upper Volume",ex:[
{n:"Push-ups",s:5,r:"max",a:"Weighted, Decline"},
{n:"DB Pullovers",s:4,r:"12-15",a:"Cable, Barbell"},
{n:"DB Shoulder Circuit",s:3,r:"12 each",a:"Front/Side/Rear Raises"},
{n:"Dips",s:4,r:"max",a:"Weighted if able, Assisted"},
{n:"Cable Face Pulls",s:4,r:"15-20",a:"Band, DB Reverse Flyes"},
{n:"Barbell Curl 21s",s:3,r:"21",a:"7 bottom+7 top+7 full"},
{n:"Tricep Rope Pushdowns",s:4,r:"15-20",a:"Bar, Machine"}
]},
6:{n:"Steady Cardio",t:"c"},
7:{n:"Active Recovery",t:"r"}
}}
};

let st={v:'home',p:1,w:1,d:1,data:{},info:{name:'',age:'',sw:'',tw:'',goals:''},photos:{},chart:null};

window.loadAppData=d=>{
  if(d.data)st.data=d.data;
  if(d.info)st.info=d.info;
  if(d.photos)st.photos=d.photos;
  render();
};

const sv=()=>{if(window.saveAppData)window.saveAppData({data:st.data,info:st.info,photos:st.photos});};
const gk=()=>'p'+st.p+'w'+st.w+'d'+st.d;
const gwd=()=>st.data[gk()]||{};

function updInfo(f,v){st.info[f]=v;sv();render();}
function updW(f,v){const k=gk();if(!st.data[k])st.data[k]={};st.data[k][f]=v;sv();render();}
function updEx(i,s,t,v){const k=gk();if(!st.data[k])st.data[k]={};if(!st.data[k].ex)st.data[k].ex={};if(!st.data[k].ex[i])st.data[k].ex[i]={};st.data[k].ex[i]['s'+s+t]=v;sv();render();}
function updMeas(f,v){const k='p'+st.p+'w'+st.w+'m';if(!st.data[k])st.data[k]={};st.data[k][f]=v;sv();render();}

function photo(k,e){
  const f=e.target.files[0];
  if(!f)return;
  const r=new FileReader();
  r.onload=ev=>{st.photos[k]=ev.target.result;sv();render();};
  r.readAsDataURL(f);
}

function getExHistory(exName){
  const hist=[];
  Object.keys(st.data).forEach(k=>{
    const m=k.match(/p(\d)w(\d+)d(\d+)/);
    if(!m||!st.data[k].ex)return;
    const p=parseInt(m[1]),w=parseInt(m[2]),d=parseInt(m[3]);
    const ph=PRG[p];
    if(!ph||!ph.d[d]||!ph.d[d].ex)return;
    ph.d[d].ex.forEach((e,i)=>{
      if(e.n===exName&&st.data[k].ex[i]){
        const ex=st.data[k].ex[i];
        let maxW=0;
        for(let s=1;s<=5;s++){
          const wt=parseFloat(ex['s'+s+'w'])||0;
          if(wt>maxW)maxW=wt;
        }
        if(maxW>0){
          hist.push({
            p:p,
            w:w,
            d:d,
            val:maxW,
            label:'P'+p+'W'+w+'D'+d
          });
        }
      }
    });
  });
  return hist.sort((a,b)=>(a.p*100+a.w*10+a.d)-(b.p*100+b.w*10+b.d));
}

function getWellnessData(field){
  const data=[];
  Object.keys(st.data).forEach(k=>{
    const m=k.match(/p(\d)w(\d+)d(\d+)/);
    if(!m)return;
    const p=parseInt(m[1]),w=parseInt(m[2]),d=parseInt(m[3]);
    const val=st.data[k][field];
    if(val){
      let numVal=parseFloat(val);
      if(field==='mood'){
        const moodVals={excellent:5,good:4,okay:3,tired:2,sore:2,stressed:1};
        numVal=moodVals[val]||0;
      }
      if(!isNaN(numVal)&&numVal>0){
        data.push({
          p:p,
          w:w,
          d:d,
          val:numVal,
          label:'P'+p+'W'+w+'D'+d,
          raw:val
        });
      }
    }
  });
  return data.sort((a,b)=>(a.p*100+a.w*10+a.d)-(b.p*100+b.w*10+b.d));
}

function getMeasurementData(field){
  const data=[];
  for(let p=1;p<=3;p++){
    for(let w=1;w<=8;w++){
      const k='p'+p+'w'+w+'m';
      if(st.data[k]&&st.data[k][field]){
        const val=parseFloat(st.data[k][field]);
        if(!isNaN(val)&&val>0){
          data.push({
            p:p,
            w:w,
            val:val,
            label:'P'+p+'W'+w
          });
        }
      }
    }
  }
  return data;
}

function stats(){
  let tw=0,tl=0,tr=0,wts=[];
  Object.keys(st.data).forEach(k=>{
    const d=st.data[k];
    if(d.wt)wts.push(parseFloat(d.wt));
    if(d.ex){tw++;Object.values(d.ex).forEach(e=>{for(let i=1;i<=5;i++){const w=parseFloat(e['s'+i+'w'])||0,r=parseFloat(e['s'+i+'r'])||0;if(w&&r){tl+=w*r;tr+=r;}}});}
  });
  return{tw,tl,tr,wts};
}

function renderChart(title,data){
  if(!data||!data.length)return'<p class="text-center text-gray-600 py-8">No data yet. Start tracking to see your progress!</p>';
  const max=Math.max(...data.map(x=>x.val));
  const min=Math.min(...data.map(x=>x.val));
  const rng=max-min||1;
  return`<div class="mb-4 text-center"><div class="text-sm text-gray-600">Showing ${data.length} data points</div></div>
<div class="h-64 flex items-end justify-center gap-1 px-2 overflow-x-auto">
${data.slice(-30).map(d=>{
  const ht=((d.val-min)/rng)*70+20;
  return`<div class="flex-1 flex flex-col items-center" style="min-width:25px;max-width:40px">
<div class="text-xs mb-1 font-bold text-blue-600">${d.val.toFixed(1)}</div>
<div class="w-full bg-blue-500 rounded-t hover:bg-blue-700 cursor-pointer transition-all" style="height:${ht}%" title="${d.label}: ${d.raw||d.val}"></div>
</div>`;
}).join('')}
</div>
<div class="text-center text-sm text-gray-600 mt-4">Last ${Math.min(30,data.length)} entries</div>`;
}

function renderWellness(wd){
  return`<div class="bg-yellow-50 border-2 border-yellow-400 rounded p-4 mb-4">
<h3 class="font-bold mb-3 flex items-center gap-2"><span class="text-xl">ğŸ“Š</span> Daily Wellness Check</h3>
<div class="grid grid-cols-2 gap-3">
<div>
<label class="block text-sm font-bold mb-1">Sleep (hours):</label>
<input type="number" step="0.5" placeholder="Hours" class="w-full p-2 border-2 rounded" value="${wd.sl||''}" onchange="updW('sl',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">Sleep Quality (1-10):</label>
<input type="number" min="1" max="10" placeholder="1-10" class="w-full p-2 border-2 rounded" value="${wd.sq||''}" onchange="updW('sq',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">Energy Level (1-10):</label>
<input type="number" min="1" max="10" placeholder="1-10" class="w-full p-2 border-2 rounded" value="${wd.en||''}" onchange="updW('en',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">Body Weight (lbs):</label>
<input type="number" step="0.1" placeholder="Weight" class="w-full p-2 border-2 rounded" value="${wd.wt||''}" onchange="updW('wt',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">Workout Date:</label>
<input type="date" class="w-full p-2 border-2 rounded" value="${wd.dt||''}" onchange="updW('dt',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">Start Time:</label>
<input type="time" class="w-full p-2 border-2 rounded" value="${wd.st||''}" onchange="updW('st',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">End Time:</label>
<input type="time" class="w-full p-2 border-2 rounded" value="${wd.et||''}" onchange="updW('et',this.value)"/>
</div>
<div>
<label class="block text-sm font-bold mb-1">General Mood:</label>
<select class="w-full p-2 border-2 rounded" onchange="updW('mood',this.value)">
<option value="">Select...</option>
<option value="excellent"${wd.mood==='excellent'?' selected':''}>Excellent</option>
<option value="good"${wd.mood==='good'?' selected':''}>Good</option>
<option value="okay"${wd.mood==='okay'?' selected':''}>Okay</option>
<option value="tired"${wd.mood==='tired'?' selected':''}>Tired</option>
<option value="sore"${wd.mood==='sore'?' selected':''}>Sore</option>
<option value="stressed"${wd.mood==='stressed'?' selected':''}>Stressed</option>
</select>
</div>
</div>
</div>`;
}

function rHome(){
  const s=stats();
  const cw=(st.p-1)*8+st.w;
  const prg=(cw/24)*100;
  return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-gradient-to-r from-pink-500 to-purple-600 text-white p-6 rounded-lg mb-4">
<h1 class="text-3xl font-bold mb-2">Amy's 24-Week Transformation</h1>
<p class="text-lg">December 2025 â†’ June 2026</p>
<p class="mt-2">Age: 54 | Training: 4:00-5:00 AM</p>
</div>
<div class="bg-white rounded-lg p-4 mb-4 border-2 border-purple-400">
<h2 class="text-xl font-bold mb-3">Progress</h2>
<div class="text-center mb-3">
<div class="text-2xl font-bold text-purple-600">Week ${cw} of 24</div>
<div class="text-sm text-gray-600">Phase ${st.p}: ${PRG[st.p].n}</div>
</div>
<div class="w-full bg-gray-200 rounded-full h-4 mb-2">
<div class="bg-gradient-to-r from-pink-500 to-purple-600 h-4 rounded-full" style="width:${prg}%"></div>
</div>
<div class="text-center text-sm text-gray-600">${Math.round(prg)}% Complete</div>
</div>
<div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
<div class="bg-blue-50 p-4 rounded-lg text-center">
<div class="text-2xl font-bold text-blue-600">${s.tw}</div>
<div class="text-xs text-gray-600">Workouts</div>
</div>
<div class="bg-green-50 p-4 rounded-lg text-center">
<div class="text-2xl font-bold text-green-600">${Math.round(s.tl).toLocaleString()}</div>
<div class="text-xs text-gray-600">Lbs Lifted</div>
</div>
<div class="bg-purple-50 p-4 rounded-lg text-center">
<div class="text-2xl font-bold text-purple-600">${s.tr.toLocaleString()}</div>
<div class="text-xs text-gray-600">Reps</div>
</div>
<div class="bg-pink-50 p-4 rounded-lg text-center">
<div class="text-2xl font-bold text-pink-600">${s.wts.length}</div>
<div class="text-xs text-gray-600">Weigh-ins</div>
</div>
</div>

<div class="bg-green-50 border-2 border-green-500 rounded-lg p-4 mb-4">
<h2 class="text-xl font-bold text-green-700 mb-3">Your Goals:</h2>
<ul class="space-y-2 text-sm">
<li>âœ“ Achieve strict pull-ups (multiple sets)</li>
<li>âœ“ Perform dips with confidence</li>
<li>âœ“ Develop visible six-pack abs with toned obliques</li>
<li>âœ“ Build strong, defined lats and upper body</li>
<li>âœ“ Full body restoration</li>
</ul>
</div>

<div class="bg-red-50 border-2 border-red-400 rounded-lg p-4 mb-6">
<h2 class="text-lg font-bold text-red-700 mb-2">âš ï¸ HOCOM & Tracheobronchomalacia Considerations</h2>
<ul class="space-y-1 text-xs">
<li>â€¢ <strong>Always listen to your body</strong> - You know when to rest</li>
<li>â€¢ <strong>Monitor breathing quality</strong> - Stop immediately if breathing becomes difficult</li>
<li>â€¢ <strong>Heart rate awareness</strong> - If HR won't elevate properly, reduce intensity</li>
<li>â€¢ <strong>Choose cardio that feels best</strong> - Stationary bike often easiest for breathing</li>
<li>â€¢ <strong>Recovery is critical</strong> - These conditions make rest even more important</li>
<li>â€¢ <strong>Avoid Valsalva maneuver</strong> - Don't hold breath during heavy lifts</li>
</ul>
</div>

<div class="bg-blue-50 border-2 border-blue-400 rounded-lg p-4 mb-6">
<h3 class="font-bold text-blue-700 mb-3">ğŸ“Š Tracking & Measurements</h3>
<div class="text-sm space-y-2">
<div><strong>Weekly (Every Sunday):</strong> Body weight, Progress photos (front/side/back), All workout performance</div>
<div><strong>Every 4 Weeks:</strong> Body measurements (chest, waist, arms), Assessment & adjustments</div>
</div>
</div>

<div class="bg-blue-50 border-2 border-blue-400 rounded-lg p-4 mb-6">
<h3 class="font-bold text-blue-700 mb-3">ğŸ“Š Expected Milestones</h3>
<div class="text-sm space-y-1">
<div><strong>Week 4:</strong> Strength increase, movement patterns natural</div>
<div><strong>Week 8:</strong> Solid foundation, feeling stronger</div>
<div><strong>Week 12:</strong> First full pull-up attempt!</div>
<div><strong>Week 16:</strong> Multiple pull-ups possible</div>
<div><strong>Week 20:</strong> Sets of 5+ pull-ups, abs showing</div>
<div><strong>Week 24:</strong> Visible six-pack, strong & ripped!</div>
</div>
</div>

<div class="bg-yellow-50 border-2 border-yellow-400 rounded-lg p-4 mb-6">
<h3 class="font-bold text-yellow-700 mb-3">âš ï¸ Important Reminders</h3>
<ul class="space-y-1 text-xs">
<li>â€¢ Warm up 5-10 minutes before each workout</li>
<li>â€¢ Use Smith machine for safety when training alone</li>
<li>â€¢ Progressive overload: Increase weight or reps each week when possible</li>
<li>â€¢ Sleep 7-9 hours nightly for recovery</li>
<li>â€¢ Drink 80+ oz of water daily</li>
<li>â€¢ Listen to your breathing - it's your guide</li>
<li>â€¢ You and your husband can do most exercises together!</li>
</ul>
</div>

<div class="bg-gradient-to-r from-green-400 to-blue-500 text-white rounded-lg p-6 mb-6 text-center">
<h3 class="text-2xl font-bold mb-3">ğŸŒŸ YOU'VE GOT THIS, AMY! ğŸŒŸ</h3>
<p class="mb-3">By June 2026, you WILL be:</p>
<ul class="text-left max-w-md mx-auto space-y-2">
<li>âœ“ Doing multiple strict pull-ups</li>
<li>âœ“ Banging out sets of dips</li>
<li>âœ“ Showing off a defined six-pack</li>
<li>âœ“ Rocking strong, toned lats and arms</li>
<li>âœ“ Feeling stronger and more confident than ever</li>
</ul>
<p class="text-xl font-bold mt-4">Let's make this happen! ğŸ’ªâ¤ï¸</p>
</div>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
<button onclick="chView('exercises')" class="bg-indigo-600 text-white p-4 rounded-lg font-bold hover:bg-indigo-700">ğŸ“– Exercise Guide & Form</button>
<button onclick="chView('overview')" class="bg-teal-600 text-white p-4 rounded-lg font-bold hover:bg-teal-700">ğŸ“… Program Overview</button>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
<button onclick="chView('info')" class="bg-blue-600 text-white p-4 rounded-lg font-bold hover:bg-blue-700">ğŸ“‹ Personal Info</button>
<button onclick="chView('workout')" class="bg-pink-600 text-white p-4 rounded-lg font-bold hover:bg-pink-700">ğŸ’ª Workout</button>
<button onclick="chView('stats')" class="bg-purple-600 text-white p-4 rounded-lg font-bold hover:bg-purple-700">ğŸ“Š Stats</button>
</div>
</div>`;
}

function rInfo(){
  return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-blue-600 text-white p-4 rounded-lg mb-4 flex justify-between items-center">
<h2 class="text-2xl font-bold">Personal Info</h2>
<button onclick="chView('home')" class="bg-white text-blue-600 px-4 py-2 rounded font-bold">ğŸ </button>
</div>
<div class="bg-white rounded-lg p-6 space-y-4">
<div><label class="block font-bold mb-2">Name:</label>
<input class="w-full p-3 border-2 rounded" value="${st.info.name||''}" onchange="updInfo('name',this.value)"/></div>
<div><label class="block font-bold mb-2">Age:</label>
<input type="number" class="w-full p-3 border-2 rounded" value="${st.info.age||''}" onchange="updInfo('age',this.value)"/></div>
<div><label class="block font-bold mb-2">Start Weight (lbs):</label>
<input type="number" step="0.1" class="w-full p-3 border-2 rounded" value="${st.info.sw||''}" onchange="updInfo('sw',this.value)"/></div>
<div><label class="block font-bold mb-2">Target Weight (lbs):</label>
<input type="number" step="0.1" class="w-full p-3 border-2 rounded" value="${st.info.tw||''}" onchange="updInfo('tw',this.value)"/></div>
<div><label class="block font-bold mb-2">Goals:</label>
<textarea class="w-full p-3 border-2 rounded" rows="4" onchange="updInfo('goals',this.value)">${st.info.goals||''}</textarea></div>
</div>
<div class="bg-green-50 border-4 border-green-500 rounded-lg p-6 mt-6">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“¸ Starting Photos</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
${['Front','Side','Back'].map(v=>{
  const k='start'+v;
  return`<div class="border-2 border-dashed border-green-500 rounded p-4 bg-white text-center">
<label class="font-bold block mb-2">${v}</label>
<input type="file" accept="image/*" class="w-full text-sm mb-2" onchange="photo('${k}',event)"/>
${st.photos[k]?`<img src="${st.photos[k]}" class="max-h-40 mx-auto rounded mt-2"/>`:''}
</div>`;
}).join('')}
</div>
</div>
</div>`;
}

function rStats(){
  if(st.chart){
    let data,title;
    if(st.chart.startsWith('ex:')){
      const exName=st.chart.substring(3);
      data=getExHistory(exName);
      title=exName+' Progress';
    }else if(st.chart.startsWith('w:')){
      const field=st.chart.substring(2);
      data=getWellnessData(field);
      const labels={sl:'Sleep Hours',sq:'Sleep Quality',en:'Energy Level',wt:'Body Weight',mood:'General Mood'};
      title=labels[field]+' Trend';
    }else if(st.chart.startsWith('m:')){
      const field=st.chart.substring(2);
      data=getMeasurementData(field);
      const labels={wt:'Weight',ch:'Chest',wa:'Waist',ar:'Arms'};
      title='Weekly '+labels[field];
    }
    return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-purple-600 text-white p-4 rounded-lg mb-4 flex justify-between items-center">
<h2 class="text-xl font-bold">${title}</h2>
<button onclick="st.chart=null;render()" class="bg-white text-purple-600 px-4 py-2 rounded font-bold">âœ• Close</button>
</div>
<div class="bg-white rounded-lg p-6">
${renderChart(title,data)}
</div>
<button onclick="st.chart=null;render()" class="w-full bg-gray-600 text-white p-4 rounded-lg font-bold hover:bg-gray-700 mt-4">Back to Stats</button>
</div>`;
  }

  const s=stats();
  const sw=parseFloat(st.info.sw)||0;
  const cw=s.wts.length>0?s.wts[s.wts.length-1]:sw;
  const wc=cw-sw;
  return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-purple-600 text-white p-4 rounded-lg mb-4 flex justify-between items-center">
<h2 class="text-2xl font-bold">ğŸ“Š Stats & Charts</h2>
<button onclick="chView('home')" class="bg-white text-purple-600 px-4 py-2 rounded font-bold">ğŸ </button>
</div>
<div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
<div class="bg-white rounded-lg p-6 text-center">
<div class="text-3xl font-bold text-blue-600">${s.tw}</div>
<div class="text-sm text-gray-600">Workouts</div>
</div>
<div class="bg-white rounded-lg p-6 text-center">
<div class="text-3xl font-bold text-green-600">${Math.round(s.tl).toLocaleString()}</div>
<div class="text-sm text-gray-600">Lbs Lifted</div>
</div>
<div class="bg-white rounded-lg p-6 text-center">
<div class="text-3xl font-bold text-purple-600">${s.tr.toLocaleString()}</div>
<div class="text-sm text-gray-600">Reps</div>
</div>
<div class="bg-white rounded-lg p-6 text-center">
<div class="text-3xl font-bold ${wc<0?'text-green-600':wc>0?'text-orange-600':'text-gray-600'}">
${wc>0?'+':''}${wc.toFixed(1)}
</div>
<div class="text-sm text-gray-600">Weight Change</div>
</div>
</div>
<div class="bg-white rounded-lg p-6 mb-4">
<h3 class="text-xl font-bold mb-4">ğŸ“ˆ Daily Wellness Trends</h3>
<div class="grid grid-cols-2 md:grid-cols-3 gap-2">
<button onclick="st.chart='w:sl';render()" class="bg-blue-100 p-3 rounded text-sm font-bold hover:bg-blue-200">Sleep Hours</button>
<button onclick="st.chart='w:sq';render()" class="bg-blue-100 p-3 rounded text-sm font-bold hover:bg-blue-200">Sleep Quality</button>
<button onclick="st.chart='w:en';render()" class="bg-blue-100 p-3 rounded text-sm font-bold hover:bg-blue-200">Energy Level</button>
<button onclick="st.chart='w:wt';render()" class="bg-blue-100 p-3 rounded text-sm font-bold hover:bg-blue-200">Daily Weight</button>
<button onclick="st.chart='w:mood';render()" class="bg-blue-100 p-3 rounded text-sm font-bold hover:bg-blue-200">General Mood</button>
</div>
</div>
<div class="bg-white rounded-lg p-6">
<h3 class="text-xl font-bold mb-4">ğŸ“ Weekly Measurements</h3>
<div class="grid grid-cols-2 md:grid-cols-4 gap-2">
<button onclick="st.chart='m:wt';render()" class="bg-green-100 p-3 rounded text-sm font-bold hover:bg-green-200">Weight</button>
<button onclick="st.chart='m:ch';render()" class="bg-green-100 p-3 rounded text-sm font-bold hover:bg-green-200">Chest</button>
<button onclick="st.chart='m:wa';render()" class="bg-green-100 p-3 rounded text-sm font-bold hover:bg-green-200">Waist</button>
<button onclick="st.chart='m:ar';render()" class="bg-green-100 p-3 rounded text-sm font-bold hover:bg-green-200">Arms</button>
</div>
</div>
</div>`;
}

function rWork(){
  const ph=PRG[st.p];
  const dy=ph.d[st.d];
  const wd=gwd();

  if(dy.t==='r'){
    return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-green-600 text-white p-4 rounded-lg mb-4">
<div class="flex justify-between items-center mb-3">
<h2 class="text-xl font-bold">REST DAY</h2>
<button onclick="chView('home')" class="bg-white text-green-600 px-4 py-2 rounded font-bold">ğŸ </button>
</div>
<div class="grid grid-cols-3 gap-2 text-sm">
<select class="p-2 rounded text-black" onchange="st.p=+this.value;st.w=1;st.d=1;render()">
${[1,2,3].map(i=>`<option value="${i}"${st.p===i?' selected':''}>Phase ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.w=+this.value;st.d=1;render()">
${[1,2,3,4,5,6,7,8].map(i=>`<option value="${i}"${st.w===i?' selected':''}>Week ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.d=+this.value;render()">
${[1,2,3,4,5,6,7].map(i=>`<option value="${i}"${st.d===i?' selected':''}>Day ${i}</option>`).join('')}
</select>
</div>
<div class="text-center mt-2 text-sm">Currently: Phase ${st.p}, Week ${st.w}, Day ${st.d}</div>
</div>
${renderWellness(wd)}
<div class="bg-white rounded-lg p-6 text-center mb-4">
<p class="text-xl mb-4">Recovery Day! ğŸŒŸ</p>
<p>Focus on sleep, hydration, and meal prep.</p>
</div>
${st.d===7?`<div class="bg-purple-50 border-4 border-purple-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“Š Week ${st.w} Measurements</h3>
<div class="grid grid-cols-2 md:grid-cols-4 gap-3">
<div><label class="block font-bold mb-1 text-sm">Weight (lbs):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).wt||''}" onchange="updMeas('wt',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Chest (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).ch||''}" onchange="updMeas('ch',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Waist (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).wa||''}" onchange="updMeas('wa',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Arms (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).ar||''}" onchange="updMeas('ar',this.value)"/></div>
</div>
</div>
<div class="bg-green-50 border-4 border-green-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“¸ Week ${st.w} Progress Photos</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
${['Front','Side','Back'].map(v=>{
  const pk='p'+st.p+'w'+st.w+v;
  return`<div class="border-2 border-dashed border-green-500 rounded p-4 bg-white text-center">
<label class="font-bold block mb-2">${v}</label>
<input type="file" accept="image/*" class="w-full text-sm mb-2" onchange="photo('${pk}',event)"/>
${st.photos[pk]?`<img src="${st.photos[pk]}" class="max-h-32 mx-auto rounded mt-2"/>`:''}
</div>`;
}).join('')}
</div>
</div>`:''}
<div class="flex justify-between">
<button onclick="prev()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-bold">â† Prev</button>
<button onclick="next()" class="bg-green-600 text-white px-6 py-3 rounded-lg font-bold">Next â†’</button>
</div>
</div>`;
  }

  if(dy.t==='c'){
    return`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-blue-600 text-white p-4 rounded-lg mb-4">
<div class="flex justify-between items-center mb-3">
<h2 class="text-xl font-bold">CARDIO DAY</h2>
<button onclick="chView('home')" class="bg-white text-blue-600 px-4 py-2 rounded font-bold">ğŸ </button>
</div>
<div class="grid grid-cols-3 gap-2 text-sm">
<select class="p-2 rounded text-black" onchange="st.p=+this.value;st.w=1;st.d=1;render()">
${[1,2,3].map(i=>`<option value="${i}"${st.p===i?' selected':''}>Phase ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.w=+this.value;st.d=1;render()">
${[1,2,3,4,5,6,7,8].map(i=>`<option value="${i}"${st.w===i?' selected':''}>Week ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.d=+this.value;render()">
${[1,2,3,4,5,6,7].map(i=>`<option value="${i}"${st.d===i?' selected':''}>Day ${i}</option>`).join('')}
</select>
</div>
<div class="text-center mt-2 text-sm">Currently: Phase ${st.p}, Week ${st.w}, Day ${st.d}</div>
</div>
${renderWellness(wd)}
<div class="bg-white rounded-lg p-4 mb-4">
<p class="mb-4 font-bold">Choose your cardio (choose what feels best for breathing):</p>
<ul class="mb-4 space-y-2 text-sm">
<li>â€¢ Stationary Bike 30-45 min (moderate - often easiest for breathing)</li>
<li>â€¢ Elliptical 30-45 min</li>
<li>â€¢ Treadmill walk 30 min</li>
<li>â€¢ Rowing 20-30 min</li>
</ul>
<input placeholder="Activity" class="w-full p-3 border-2 rounded mb-3" value="${wd.act||''}" onchange="updW('act',this.value)"/>
<input type="number" placeholder="Minutes" class="w-full p-3 border-2 rounded mb-3" value="${wd.min||''}" onchange="updW('min',this.value)"/>
<textarea placeholder="Notes" class="w-full p-3 border-2 rounded" rows="3" onchange="updW('n',this.value)">${wd.n||''}</textarea>
</div>
${st.d===7?`<div class="bg-purple-50 border-4 border-purple-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“Š Week ${st.w} Measurements</h3>
<div class="grid grid-cols-2 md:grid-cols-4 gap-3">
<div><label class="block font-bold mb-1 text-sm">Weight (lbs):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).wt||''}" onchange="updMeas('wt',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Chest (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).ch||''}" onchange="updMeas('ch',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Waist (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).wa||''}" onchange="updMeas('wa',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Arms (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${(st.data['p'+st.p+'w'+st.w+'m']||{}).ar||''}" onchange="updMeas('ar',this.value)"/></div>
</div>
</div>
<div class="bg-green-50 border-4 border-green-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“¸ Week ${st.w} Progress Photos</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
${['Front','Side','Back'].map(v=>{
  const pk='p'+st.p+'w'+st.w+v;
  return`<div class="border-2 border-dashed border-green-500 rounded p-4 bg-white text-center">
<label class="font-bold block mb-2">${v}</label>
<input type="file" accept="image/*" class="w-full text-sm mb-2" onchange="photo('${pk}',event)"/>
${st.photos[pk]?`<img src="${st.photos[pk]}" class="max-h-32 mx-auto rounded mt-2"/>`:''}
</div>`;
}).join('')}
</div>
</div>`:''}
<div class="flex justify-between">
<button onclick="prev()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-bold">â† Prev</button>
<button onclick="next()" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-bold">Next â†’</button>
</div>
</div>`;
  }

  let h=`<div class="p-4 max-w-4xl mx-auto">
<div class="bg-pink-600 text-white p-4 rounded-lg mb-4">
<div class="flex justify-between items-center mb-3">
<h2 class="text-xl font-bold">${dy.n}</h2>
<button onclick="chView('home')" class="bg-white text-pink-600 px-4 py-2 rounded font-bold">ğŸ </button>
</div>
<div class="grid grid-cols-3 gap-2 text-sm">
<select class="p-2 rounded text-black" onchange="st.p=+this.value;st.w=1;st.d=1;render()">
${[1,2,3].map(i=>`<option value="${i}"${st.p===i?' selected':''}>Phase ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.w=+this.value;st.d=1;render()">
${[1,2,3,4,5,6,7,8].map(i=>`<option value="${i}"${st.w===i?' selected':''}>Week ${i}</option>`).join('')}
</select>
<select class="p-2 rounded text-black" onchange="st.d=+this.value;render()">
${[1,2,3,4,5,6,7].map(i=>`<option value="${i}"${st.d===i?' selected':''}>Day ${i}</option>`).join('')}
</select>
</div>
<div class="text-center mt-2 text-sm">Currently: Phase ${st.p}, Week ${st.w}, Day ${st.d}</div>
</div>
${renderWellness(wd)}
<div class="bg-white rounded-lg p-4 mb-4 overflow-x-auto">
<table class="w-full text-xs">
<thead><tr class="bg-blue-600 text-white">
<th class="p-2 text-left">Exercise</th>`;

  const ms=Math.max(...dy.ex.map(e=>e.s));
  for(let s=1;s<=ms;s++)h+=`<th class="p-2">Set ${s}</th>`;
  h+=`</tr></thead><tbody>`;

  dy.ex.forEach((e,i)=>{
    const ed=(wd.ex&&wd.ex[i])||{};
    h+=`<tr class="border-b">
<td class="p-2">
<div class="font-bold">${e.n}</div>
<div class="text-gray-500">${e.s}x${e.r}</div>
<div class="text-gray-400 text-xs italic">Alt: ${e.a}</div>
<button onclick="st.chart='ex:${e.n}';render()" class="text-blue-600 text-xs underline mt-1 hover:text-blue-800">ğŸ“ˆ View Progress</button>
</td>`;
    for(let s=1;s<=e.s;s++){
      h+=`<td class="p-1">
<div class="flex gap-1 justify-center items-center">
<input type="number" placeholder="lbs" class="w-14 p-1 border rounded text-center" value="${ed['s'+s+'w']||''}" onchange="updEx(${i},${s},'w',this.value)"/>
<span class="text-xs">Ã—</span>
<input type="number" placeholder="reps" class="w-14 p-1 border rounded text-center" value="${ed['s'+s+'r']||''}" onchange="updEx(${i},${s},'r',this.value)"/>
</div>
</td>`;
    }
    h+=`</tr>`;
  });

  h+=`</tbody></table></div>
<div class="bg-gray-100 p-4 rounded mb-4">
<label class="block font-bold mb-2">Notes:</label>
<textarea class="w-full p-3 border-2 rounded" rows="3" onchange="updW('n',this.value)">${wd.n||''}</textarea>
</div>`;

  if(st.d===7){
    const pk='p'+st.p+'w'+st.w;
    const mk=pk+'m';
    const ms=st.data[mk]||{};
    h+=`<div class="bg-purple-50 border-4 border-purple-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“Š Week ${st.w} Measurements</h3>
<div class="grid grid-cols-2 md:grid-cols-4 gap-3">
<div><label class="block font-bold mb-1 text-sm">Weight (lbs):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${ms.wt||''}" onchange="updMeas('wt',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Chest (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${ms.ch||''}" onchange="updMeas('ch',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Waist (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${ms.wa||''}" onchange="updMeas('wa',this.value)"/></div>
<div><label class="block font-bold mb-1 text-sm">Arms (in):</label>
<input type="number" step="0.1" class="w-full p-2 border-2 rounded" value="${ms.ar||''}" onchange="updMeas('ar',this.value)"/></div>
</div>
</div>
<div class="bg-green-50 border-4 border-green-500 rounded-lg p-6 mb-4">
<h3 class="text-2xl font-bold text-center mb-4">ğŸ“¸ Week ${st.w} Progress Photos</h3>
<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
${['Front','Side','Back'].map(v=>{
  const phk=pk+v;
  return`<div class="border-2 border-dashed border-green-500 rounded p-4 bg-white text-center">
<label class="font-bold block mb-2">${v}</label>
<input type="file" accept="image/*" class="w-full text-sm mb-2" onchange="photo('${phk}',event)"/>
${st.photos[phk]?`<img src="${st.photos[phk]}" class="max-h-32 mx-auto rounded mt-2"/>`:''}
</div>`;
}).join('')}
</div>
</div>`;
  }

  h+=`<div class="flex justify-between mt-4">
<button onclick="prev()" class="bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700">â† Prev</button>
<button onclick="next()" class="bg-pink-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-pink-700">Next â†’</button>
</div>
</div>`;

  return h;
}

function chView(v){st.v=v;render();}

function prev(){
  if(st.d>1)st.d--;
  else if(st.w>1){st.w--;st.d=7;}
  else if(st.p>1){st.p--;st.w=8;st.d=7;}
  render();
}

function next(){
  if(st.d<7)st.d++;
  else if(st.w<8){st.w++;st.d=1;}
  else if(st.p<3){st.p++;st.w=1;st.d=1;}
  render();
}

function render(){
  const app=document.getElementById('app');
  if(!app)return;
  if(st.v==='home')app.innerHTML=rHome();
  else if(st.v==='info')app.innerHTML=rInfo();
  else if(st.v==='stats')app.innerHTML=rStats();
  else if(st.v==='workout')app.innerHTML=rWork();
}

window.chView=chView;
window.updInfo=updInfo;
window.updW=updW;
window.updEx=updEx;
window.updMeas=updMeas;
window.photo=photo;
window.prev=prev;
window.next=next;
window.render=render;
window.st=st;

render();
</script>
</body>
</html>
